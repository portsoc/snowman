<!DOCTYPE html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snowman</title>
<link rel="stylesheet" href="style.css">

<style>
  .snow {
    fill: white;
  }

  .coal {
    fill: black;
  }

  #arms {
    stroke: brown;
    fill: none;
    stroke-width: 0.5em;;
  }

  #eyes {
    animation: blinking 5s infinite;
  }

  @keyframes blinking {
    0% { transform: scale(1, 1); }
    5% { transform: scale(1, 0.1); }
    10% { transform: scale(1, 1); }
    100% { transform: scale(1, 1); }
  }

  #carrot {
    fill: orange;    
  }
</style>

<h1>Snowman!</h1>

<button id="play">Play!</button>

<svg width="500" height="700" viewbox="-250 -550 500 700">
  <circle id="lowertorso" cx="0" cy="0" r="150" class="snow" />
  <circle id="torso" cx="0" cy="-150" r="125" class="snow" />
  <circle id="head" cx="0" cy="-300" r="100" class="snow" />

  <defs>
    <g id="eyes" class="coal">
      <circle cx="-30" r="10" />
      <circle cx="30" r="10" />
    </g>
  </defs>
  
  <use href="#eyes" y="-300"></use>

  <g id="arms">
    <path id="leftarm" d="M0,0 L 100,0 M100,20 L80,0 100,-20" transform="translate(60,-170)"></path>
    <path id="rightarm" d="M0,0 L -100,0 M-100,10 L-75,0 -100,-25" transform="translate(-60,-170)"></path>
  </g>

  <path id="carrot" d="m0,0 40,-10 0,-20" transform="translate(-40,-250)"></path> 

</svg>


<script>

const feels = {
  happy: 100,
};

function play() {
  feels.happy = Math.min(100, feels.happy + 10);
}

function adjustThings() {
  feels.happy = Math.max(0, --feels.happy);
  adjustImage();
}

function adjustImage() {
  const leftarm = document.querySelector("#leftarm");
  leftarm.setAttribute("transform", `translate(60,-170) rotate(${-feels.happy+50})`);

  const rightarm = document.querySelector("#rightarm");
  rightarm.setAttribute("transform", `translate(-60,-170) rotate(${feels.happy-50})`);
}



function init() {
  window.setInterval(adjustThings, 100);
  document.querySelector("#play").addEventListener('click', play);
}

window.addEventListener('load', init);


</script>

